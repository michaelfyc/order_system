(function(e){function r(r){for(var o,s,l=r[0],i=r[1],c=r[2],d=0,p=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(r);while(p.length)p.shift()();return n.push.apply(n,c||[]),t()}function t(){for(var e,r=0;r<n.length;r++){for(var t=n[r],o=!0,l=1;l<t.length;l++){var i=t[l];0!==a[i]&&(o=!1)}o&&(n.splice(r--,1),e=s(s.s=t[0]))}return e}var o={},a={app:0},n=[];function s(r){if(o[r])return o[r].exports;var t=o[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=o,s.d=function(e,r,t){s.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,r){if(1&r&&(e=s(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)s.d(t,o,function(r){return e[r]}.bind(null,o));return t},s.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(r,"a",r),r},s.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=r,l=l.slice();for(var c=0;c<l.length;c++)r(l[c]);var u=i;n.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},1578:function(e,r,t){"use strict";t.r(r);var o=t("96eb"),a=t.n(o);a.a.setup({timeout:"200-600"}),a.a.mock("/API/login",{uid:"0",isLogin:!0}),a.a.mock("/API/logout",{}),a.a.mock("/API/register",{verified:!0}),a.a.mock("/API/getUserInfo",{username:"admin",email:"example@example.com",password:"123456"}),a.a.mock("/API/editInfo",{verified:!0}),a.a.mock("/API/getOrderList",{orderList:[{orderId:12,submitterId:2,date:"2020-3-27 10:34:22",productName:"戴尔xps12寸",productType:["Computer","Laptop","Windows"],withAccessories:!0,money:{purchasePrice:8999.01,soldPrice:9049,postPrice:30,profit:19.978},productDescription:{color:"silver",outlook:"非常tm新",memory:"16G",storage:"1024"},purchaser:"居家",contact:"7238784764",platform:"vx",note:"",accessories:["Mouse","KeyBoard"]},{orderId:13,submitterId:1,date:"2020-3-26 13:32:22",productName:"Ipad Pro 2018",productType:["Pad"],withAccessories:!0,money:{purchasePrice:6899,soldPrice:7200,postPrice:10,profit:291},productDescription:{color:"silver",outlook:"全新",storage:"512G"},purchaser:"理鸭",contact:"23425577232",platform:"vx",note:"",accessories:["Pen","Charger"]}]}),a.a.mock("/API/getWeekGraph",{sales:[15,3,6,27,2,5,0],profit:[2e3,150,289,-40,1500,200,0]}),a.a.mock("/API/getMonthGraph",{day:31,sales:[15,3,6,27,2,5,0,12,13,5,1,4],profit:[2e3,150,289,-40,1500,200,0,130,423,23,-33,1320]})},2596:function(e,r,t){"use strict";var o=t("e123"),a=t.n(o);a.a},"280c":function(e,r,t){},3952:function(e,r,t){},"3dfc":function(e,r,t){e.exports=t.p+"img/404.a57b6f31.png"},"4ea8":function(e,r,t){},"56d7":function(e,r,t){"use strict";t.r(r);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),a=t("5c96"),n=t.n(a),s=(t("0fae"),t("8c4f")),l=t("2f62"),i=t("bc3a"),c=t.n(i),u=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},d=[],p={name:"App"},m=p,f=t("2877"),h=Object(f["a"])(m,u,d,!1,null,null,null),g=h.exports,b=t("a78e"),v=t.n(b),w={login:function(e,r){e.user.uid=r.uid,e.user.isLogin=!0,r.rememberMe?v.a.set("user",{uid:e.user.uid,isLogin:!0},{expires:7}):sessionStorage.setItem("user",JSON.stringify({uid:e.user.uid,isLogin:!0}))},logout:function(e){e.user={},sessionStorage.removeItem("user"),v.a.remove("user")}},y=w,x=(t("96cf"),t("1da1")),F=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"loginForm",attrs:{"label-width":"80px","label-position":"top",model:e.loginForm,rules:e.rules}},[t("el-form-item",{attrs:{label:"用户名/邮箱",prop:"username"}},[t("el-input",{staticClass:"input_width",model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{staticClass:"input_width",attrs:{type:"password","show-password":""},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),t("el-form-item",[t("el-checkbox",{model:{value:e.loginForm.rememberMe,callback:function(r){e.$set(e.loginForm,"rememberMe",r)},expression:"loginForm.rememberMe"}},[e._v("七天免登录")])],1),t("el-row",{attrs:{type:"flex",justify:"space-between"}},[t("el-col",{attrs:{span:12}},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return r.preventDefault(),e.handleLogin("loginForm")}}},[e._v("登录")])],1)],1),t("el-col",{attrs:{span:12,push:3}},[t("el-form-item",[t("el-link",{attrs:{type:"primary",href:"#/register"}},[e._v("没有账号？去注册")])],1)],1)],1)],1)},P=[],k={name:"Login",data:function(){return{loading:!1,loginForm:{username:"",password:"",rememberMe:!1},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{handleLogin:function(e){var r=this;this.$refs[e].validate((function(e){return!!e&&(r.loading=!0,r.$store.dispatch("login",r.loginForm).catch((function(e){return console.log(e)})),r.loading=!1,!0)}))}}},_=k,T=(t("f71c"),Object(f["a"])(_,F,P,!1,null,"cbdca35e",null)),$=T.exports,C=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"profile",attrs:{model:e.profile,"label-width":"120px","label-position":"right",rules:e.profileRules}},[t("el-form-item",{attrs:{label:"修改用户名",prop:"username"}},[t("el-input",{staticStyle:{width:"50%"},model:{value:e.profile.username,callback:function(r){e.$set(e.profile,"username",r)},expression:"profile.username"}})],1),t("el-form-item",{attrs:{label:"更改邮箱",prop:"email"}},[t("el-input",{staticClass:"input_width",attrs:{type:"email",required:""},model:{value:e.profile.email,callback:function(r){e.$set(e.profile,"email",r)},expression:"profile.email"}})],1),t("el-form-item",{attrs:{label:"修改密码"}},[t("el-switch",{model:{value:e.profile.changePassword,callback:function(r){e.$set(e.profile,"changePassword",r)},expression:"profile.changePassword"}})],1),t("el-form-item",{attrs:{label:"旧密码",prop:"oldPassword","hide-required-asterisk":!e.profile.changePassword}},[t("el-input",{staticClass:"input_width",attrs:{type:"password",disabled:!e.profile.changePassword,"show-password":""},model:{value:e.profile.oldPassword,callback:function(r){e.$set(e.profile,"oldPassword",r)},expression:"profile.oldPassword"}})],1),t("el-form-item",{attrs:{label:"新密码",prop:"newPassword","hide-required-asterisk":!e.profile.changePassword}},[t("el-input",{staticClass:"input_width",attrs:{type:"password",disabled:!e.profile.changePassword,"show-password":"",minlength:"6",maxlength:"26","show-word-limit":""},model:{value:e.profile.newPassword,callback:function(r){e.$set(e.profile,"newPassword",r)},expression:"profile.newPassword"}})],1),t("el-form-item",{attrs:{label:"确认新密码",prop:"vnewPassword","hide-required-asterisk":!e.profile.changePassword}},[t("el-input",{staticClass:"input_width",attrs:{type:"password",disabled:!e.profile.changePassword,"show-password":""},model:{value:e.profile.vnewPassword,callback:function(r){e.$set(e.profile,"vnewPassword",r)},expression:"profile.vnewPassword"}})],1),t("el-row",{attrs:{gutter:6}},[t("el-col",{attrs:{span:6}},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return r.preventDefault(),e.handleUpdate(r)}}},[e._v("更新")])],1)],1),t("el-col",{attrs:{span:8,offset:3}},[t("el-form-item",[t("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"warning","element-loading-text":"正在登出..","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0,0,0,0.8)"},on:{click:function(r){return r.preventDefault(),e.handleLogout(r)}}},[e._v("登出 ")])],1)],1)],1)],1)},O=[],A={name:"AboutMe",data:function(){var e=this,r=function(r,t,o){e.profile.changePassword||o(),t?o():o(new Error("请输入旧密码！"))},t=function(r,t,o){e.profile.changePassword||o(),t?t.length<6||t.length>26?o(new Error("密码长度应在6-26位之间.")):o():o(new Error("请输入新密码！"))},o=function(r,t,o){e.profile.changePassword||o(),t?t!==e.profile.newPassword?o(new Error("两次输入密码不一致!")):o():o(new Error("请输入确认密码"))};return{loading:!1,fullscreenLoading:!1,profile:{username:"",email:"",changePassword:!1,oldPassword:"",newPassword:"",vnewPassword:""},profileRules:{username:[{required:!0,message:"请输入用户名！",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱！",trigger:"blur"}],oldPassword:[{validator:r,trigger:"blur"}],newPassword:[{validator:t,trigger:"blur"}],vnewPassword:[{validator:o,trigger:"blur"}]}}},methods:{editInfo:function(e,r){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.axios.put(e,r).then((function(e){"success"===e.data.status?(t.$message.success("修改信息成功！"),window.location.reload()):t.$message.error(e.data.reason)})).catch((function(e){console.error(e),t.$message.error("系统错误！")}));case 2:case"end":return o.stop()}}),o)})))()},handleUpdate:function(){var e=this;this.$refs["profile"].validate((function(r){if(!r)return console.warn("有东西没好好填"),!1;e.$confirm("确定修改个人信息？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){e.loading=!0,e.editInfo("/api/editUserInfo",e.profile),e.loading=!1})).catch((function(){e.$message.info("已取消")}))}))},handleLogout:function(){var e=this;this.$confirm("确认登出？","提示",{confirmButtonText:"登出",cancelButtonText:"取消",type:"warning"}).then((function(){e.$store.dispatch("logout").catch((function(e){return console.error(e)})),e.fullscreenLoading=!0,setTimeout((function(){e.fullscreenLoading=!1,e.$router.push("/")}),3e3)})).catch((function(){e.$message.info("已取消登出")}))}},mounted:function(){var e=this;this.axios.get("/api/getUserInfo").then((function(r){console.log("获取用户信息成功"),e.profile.username=r.data.username,e.profile.email=r.data.email})).catch((function(r){console.error(r),e.$message.error("获取用户信息失败！")}))}},D=A,M=(t("5917"),Object(f["a"])(D,C,O,!1,null,"66b65d87",null)),S=M.exports,j=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-container",[t("el-aside",{staticStyle:{"background-color":"#eef1f6"},attrs:{width:"200px"}},[t("el-header",{staticStyle:{width:"200px","background-color":"dodgerblue"}},[t("SideBarHeader")],1),t("Sidebar")],1),t("el-main",[t("router-view")],1)],1)},E=[],N=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-menu",{attrs:{mode:"vertical","background-color":"#eef1f6","default-active":e.$route.path.substr(e.$route.path.lastIndexOf("/")+1),"text-color":"#48576a","active-text-color":"#20a0ff",router:""}},[t("el-menu-item",{attrs:{index:"index"}},[e._v("首页")]),t("el-menu-item",{attrs:{index:"profile"}},[e._v("个人资料")]),t("el-submenu",{attrs:{index:"order"}},[t("template",{slot:"title"},[e._v("管理订单")]),t("el-menu-item",{attrs:{index:"newOrder"}},[e._v("增加订单")]),t("el-menu-item",{attrs:{index:"orderList"}},[e._v("订单列表")])],2)],1)},G=[],I={name:"Sidebar",data:function(){return{}},methods:{}},L=I,R=Object(f["a"])(L,N,G,!1,null,"30363af3",null),B=R.exports,q=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"Logo"},[e._v("Dashboard")])},W=[],z={name:"SideBarHeader"},H=z,U=(t("9af2"),Object(f["a"])(H,q,W,!1,null,"b3d321d0",null)),K=U.exports,J={name:"Home",components:{SideBarHeader:K,Sidebar:B}},V=J,Q=(t("7a86"),Object(f["a"])(V,j,E,!1,null,"48f56a49",null)),X=Q.exports,Y=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-container",[t("vue-canvas-nest",{attrs:{config:{opacity:.7,count:300}}}),t("el-card",{staticClass:"welcomeCard"},[t("router-view")],1)],1)},Z=[],ee=t("01b4"),re={name:"Welcome",components:{VueCanvasNest:ee["a"]}},te=re,oe=(t("822b"),Object(f["a"])(te,Y,Z,!1,null,"2b70a54f",null)),ae=oe.exports,ne=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",[t("v-chart",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{options:e.weekData,autoresize:""}})],1),t("div",[t("v-chart",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{options:e.monthData,autoresize:""}})],1)])},se=[],le=(t("d81d"),t("94b1"),t("ef97"),t("b11c"),t("d28f"),t("627c"),t("9ca8"));o["default"].component("v-chart",le["a"]);var ie={name:"Console",data:function(){return{loading:!1,weekData:{title:{text:"最近7天订单统计表"},legend:{show:!0,data:["销量","盈利额"]},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",name:"销量",min:0},{type:"value",name:"盈利",axisLabel:{formatter:"{value}元"}}],toolbox:{show:!0,top:-6,feature:{saveAsImage:{show:!0},restore:{show:!0}}},series:[{name:"销量",type:"bar",data:[],barWidth:"60%",label:{show:!0,position:"insideTop"},itemStyle:{normal:{color:function(e){var r=["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"];return r[e.dataIndex]}}}},{name:"盈利额",type:"line",data:[],yAxisIndex:1,label:{show:!0,position:"bottom",formatter:function(e){return e.value<0?"{a|"+e.value+"}":"{b|"+e.value+"}"},rich:{a:{color:"#ff0000"},b:{color:"#005c98"}}}}]},monthData:{title:{text:"本月订单统计表"},legend:{data:["销量","盈利额"]},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",name:"销量",min:0},{type:"value",name:"盈利",axisLabel:{formatter:"{value}元"}}],toolbox:{top:-6,feature:{saveAsImage:{show:!0},restore:{show:!0}}},series:[{name:"销量",type:"bar",data:[],barWidth:"60%",label:{show:!0,position:"insideTop"},itemStyle:{normal:{color:function(e){var r=["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"];return r[e.dataIndex]}}}},{name:"盈利额",type:"line",data:[],yAxisIndex:1,label:{show:!0,position:"bottom",formatter:function(e){return e.value<0?"{a|"+e.value+"}":"{b|"+e.value+"}"},rich:{a:{color:"#ff0000"},b:{color:"#005c98"}}}}]}}},methods:{postOrderData:function(){this.loading=!0,this.getWeek(),this.getMonth()},getWeek:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.axios.get("/api/getWeekGraph").then((function(r){e.weekData.series[0].data=r.data.sales,e.weekData.series[1].data=r.data.profit,e.weekData.xAxis[0].data=e.getSevenDays()})).catch((function(r){e.$message.error("表格获取失败！"),console.error(r)}));case 2:e.loading=!1;case 3:case"end":return r.stop()}}),r)})))()},getMonth:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.axios.get("/api/getMonthGraph").then((function(r){e.monthData.series[0].data=r.data.sales,e.monthData.series[1].data=r.data.profit,e.monthData.xAxis[0].data=e.getMonthDays(r.data.day)})).catch((function(e){console.error(e)}));case 2:e.loading=!1;case 3:case"end":return r.stop()}}),r)})))()},getSevenDays:function(){for(var e=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],r=new Date,t=[r.getDay()],o=0;o<6;o++)r.setDate(r.getDate()-1),t.unshift(r.getDay());return t.map((function(r){return e[r]}))},getMonthDays:function(e){for(var r=new Date,t=[r.getMonth()+1+"/"+r.getDate()],o=0;o<e-1;o++)r.setDate(r.getDate()-1),t.unshift(r.getMonth()+1+"/"+r.getDate());return t}},mounted:function(){this.postOrderData()}},ce=ie,ue=(t("f4e8"),Object(f["a"])(ce,ne,se,!1,null,"8228559e",null)),de=ue.exports,pe=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"regForm",attrs:{"label-width":"80px",model:e.regForm,rules:e.regRules,"label-position":"top"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{staticClass:"narrow_input",staticStyle:{width:"100%"},model:{value:e.regForm.username,callback:function(r){e.$set(e.regForm,"username",r)},expression:"regForm.username"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{staticClass:"narrow_input",attrs:{type:"email"},model:{value:e.regForm.email,callback:function(r){e.$set(e.regForm,"email",r)},expression:"regForm.email"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{staticClass:"narrow_input",attrs:{type:"password",minlength:"6",maxlength:"26","show-password":""},model:{value:e.regForm.password,callback:function(r){e.$set(e.regForm,"password",r)},expression:"regForm.password"}})],1),t("el-form-item",{attrs:{label:"确认密码",prop:"vpassword"}},[t("el-input",{staticClass:"narrow_input",attrs:{type:"password","show-password":""},model:{value:e.regForm.vpassword,callback:function(r){e.$set(e.regForm,"vpassword",r)},expression:"regForm.vpassword"}})],1),t("el-form-item",[t("el-row",{attrs:{type:"flex",justify:"space-between"}},[t("el-col",{attrs:{span:12}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.handleReg("regForm")}}},[e._v("注册")])],1),t("el-col",{attrs:{span:12,push:3}},[t("el-link",{attrs:{type:"primary",href:"#/login"}},[e._v("有账号了？去登录")])],1)],1)],1)],1)},me=[],fe={name:"Register",data:function(){var e=this,r=function(e,r,t){r?r.length<6||r.length>26?t(new Error("密码长度应该在6-26位之间")):t():t(new Error("请输入密码！"))},t=function(r,t,o){t||o(new Error("请输入确认密码！")),t!==e.regForm.password?o(new Error("两次输入密码不一致！")):o()};return{loading:!1,regForm:{username:"",email:"",password:"",vpassword:""},regRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:r,trigger:"blur"}],vpassword:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:t,trigger:"blur"}]}}},methods:{register:function(){var e={username:this.regForm.username,email:this.regForm.email,password:this.regForm.password};this.$store.dispatch("register",e).catch((function(e){return console.error(e)}))},handleReg:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.warn("Register error"),!1;r.loading=!0,r.register(),r.loading=!1}))}}},he=fe,ge=(t("8855"),Object(f["a"])(he,pe,me,!1,null,"e3f58f04",null)),be=ge.exports,ve=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"outer"},[t("div",{staticClass:"left"},[t("el-image",{attrs:{src:e.src}})],1),t("div",{staticClass:"right"},[t("p",[e._v("OOPS!")]),t("div",{staticClass:"inform"},[e._v(" The page you're looking for does not exist! ")]),t("br"),t("div",{staticStyle:{"font-size":"15px"}},[t("el-link",{attrs:{type:"primary",underline:!1,href:"#/dashboard"}},[e._v("Click here to go to Home page")])],1)])])},we=[],ye=t("3dfc"),xe=t.n(ye),Fe={name:"NotFound",data:function(){return{src:xe.a}}},Pe=Fe,ke=(t("2596"),Object(f["a"])(Pe,ve,we,!1,null,"487a8179",null)),_e=ke.exports,Te=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"orderForm",attrs:{model:e.orderForm,"label-width":"120px","label-position":"right",rules:e.orderRules}},[t("el-form-item",{attrs:{label:"商品名",prop:"productName"}},[t("el-input",{model:{value:e.orderForm.productName,callback:function(r){e.$set(e.orderForm,"productName",r)},expression:"orderForm.productName"}})],1),t("ProductType",{on:{transferProductType:e.getProductType}}),t("el-form-item",{attrs:{label:"附赠配件"}},[t("el-switch",{model:{value:e.orderForm.withAccessories,callback:function(r){e.$set(e.orderForm,"withAccessories",r)},expression:"orderForm.withAccessories"}})],1),t("ProductAccessories",{attrs:{needAccessories:e.orderForm.withAccessories},on:{transferAccessories:e.getAccessories}}),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"进价"}},[t("el-input-number",{attrs:{precision:2,step:.01,"controls-position":"right",min:0},model:{value:e.orderForm.money.purchasePrice,callback:function(r){e.$set(e.orderForm.money,"purchasePrice",r)},expression:"orderForm.money.purchasePrice"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"售格"}},[t("el-input-number",{attrs:{precision:2,step:.01,"controls-position":"right",min:0},model:{value:e.orderForm.money.soldPrice,callback:function(r){e.$set(e.orderForm.money,"soldPrice",r)},expression:"orderForm.money.soldPrice"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"邮费"}},[t("el-input-number",{attrs:{precision:2,step:.01,"controls-position":"right",min:0},model:{value:e.orderForm.money.postPrice,callback:function(r){e.$set(e.orderForm.money,"postPrice",r)},expression:"orderForm.money.postPrice"}})],1)],1)],1),t("el-form-item",{staticClass:"productDescription",attrs:{label:"产品描述","label-width":"130px"}}),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"颜色",prop:"color"}},[t("el-select",{attrs:{clearable:""},model:{value:e.orderForm.productDescription.color,callback:function(r){e.$set(e.orderForm.productDescription,"color",r)},expression:"orderForm.productDescription.color"}},e._l(e.colors,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"成色",prop:"outlook"}},[t("el-input",{model:{value:e.orderForm.productDescription.outlook,callback:function(r){e.$set(e.orderForm.productDescription,"outlook",r)},expression:"orderForm.productDescription.outlook"}})],1)],1)],1),t("ProductMemory",{attrs:{productType:e.orderForm.productType[0]},on:{transferMemory:e.getMemory}}),t("ProductStorage",{attrs:{productType:e.orderForm.productType[0]},on:{transferStorage:e.getStorage}}),t("el-form-item",{attrs:{label:"购买人姓名",prop:"purchaser"}},[t("el-input",{model:{value:e.orderForm.purchaser,callback:function(r){e.$set(e.orderForm,"purchaser",r)},expression:"orderForm.purchaser"}})],1),t("el-form-item",{attrs:{label:"购买人联系方式",prop:"contact","label-width":"130px"}},[t("el-input",{model:{value:e.orderForm.contact,callback:function(r){e.$set(e.orderForm,"contact",r)},expression:"orderForm.contact"}})],1),t("el-form-item",{attrs:{label:"出售方式",prop:"platform"}},[t("el-input",{model:{value:e.orderForm.platform,callback:function(r){e.$set(e.orderForm,"platform",r)},expression:"orderForm.platform"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.orderForm.note,callback:function(r){e.$set(e.orderForm,"note",r)},expression:"orderForm.note"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.handleNew}},[e._v("新建订单")])],1)],1)},$e=[],Ce=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form-item",{attrs:{label:"产品类型",prop:"productType"}},[t("el-cascader",{attrs:{options:e.types,props:e.expandTrigger},on:{change:e.transferProductType},model:{value:e.productType,callback:function(r){e.productType=r},expression:"productType"}})],1)},Oe=[],Ae=(t("99af"),{name:"ProductType",data:function(){return{productType:[],types:[{value:"Phone",label:"手机",children:[{value:"Apple",label:"苹果手机"},{value:"Android",label:"安卓手机"}]},{value:"Pad",label:"平板电脑"},{value:"Computer",label:"电脑",children:[{value:"Laptop",label:"笔记本",children:[{value:"Windows",label:"Windows系统"},{value:"Apple",label:"Mac系统"}]},{value:"Desktop",label:"台式机",children:[{value:"Windows",label:"Windows系统"},{value:"Apple",label:"Mac系统"}]}]},{value:"Accessories",label:"配件",children:[{value:"Pen",label:"手写笔"},{value:"Charger",label:"充电器"},{value:"Mouse",label:"鼠标"},{value:"KeyBoard",label:"键盘"}]},{value:"EarPhone",label:"耳机",children:[{value:"Wireless",label:"无线耳机",children:[{value:"Noiseless",label:"降噪"},{value:"Noise",label:"非降噪"}]},{value:"Wired",label:"有线耳机",children:[{value:"Noiseless",label:"降噪"},{value:"Noise",label:"非降噪"}]}]},{value:"Other",label:"其他"}],expandTrigger:{expandTrigger:"hover"}}},methods:{transferProductType:function(){this.$emit("transferProductType",this.productType)}},props:["ajaxType"],watch:{ajaxType:function(e){this.productType=this.productType.concat(e)}}}),De=Ae,Me=Object(f["a"])(De,Ce,Oe,!1,null,"77aad3ca",null),Se=Me.exports,je=function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.hasStorage?t("el-form-item",{attrs:{label:"容量"}},[e.isStorageOf("Phone")?t("el-radio-group",{on:{change:e.handleChange},model:{value:e.storage,callback:function(r){e.storage=r},expression:"storage"}},[t("el-radio",{attrs:{label:"64G"}},[e._v("64G")]),t("el-radio",{attrs:{label:"128G"}},[e._v("128G")]),t("el-radio",{attrs:{label:"512G"}},[e._v("512G")]),t("el-radio",{attrs:{label:"256G"}},[e._v("256G")])],1):e._e(),e.isStorageOf("Computer")?t("el-radio-group",{on:{change:e.handleChange},model:{value:e.storage,callback:function(r){e.storage=r},expression:"storage"}},[t("el-radio",{attrs:{label:"128G"}},[e._v("128G")]),t("el-radio",{attrs:{label:"256G"}},[e._v("256G")]),t("el-radio",{attrs:{label:"512G"}},[e._v("512G")]),t("el-radio",{attrs:{label:"1T"}},[e._v("1T")])],1):e._e(),e.isStorageOf("Pad")?t("el-radio-group",{on:{change:e.handleChange},model:{value:e.storage,callback:function(r){e.storage=r},expression:"storage"}},[t("el-radio",{attrs:{label:"64G"}},[e._v("64G")]),t("el-radio",{attrs:{label:"128G"}},[e._v("128G")]),t("el-radio",{attrs:{label:"256G"}},[e._v("256G")]),t("el-radio",{attrs:{label:"512G"}},[e._v("512G")]),t("el-radio",{attrs:{label:"1T"}},[e._v("1T")])],1):e._e()],1):e._e()},Ee=[],Ne={name:"ProductStorage",props:["productType","ajaxStorage"],data:function(){return{storage:""}},computed:{hasStorage:function(){return!!this.productType&&"Accessories"!==this.productType&&"EarPhone"!==this.productType&&"Other"!==this.productType},isStorageOf:function(){return function(e){return e===this.productType}}},methods:{handleChange:function(){this.$emit("transferStorage",this.storage)}},watch:{ajaxStorage:function(e){this.storage=e}}},Ge=Ne,Ie=Object(f["a"])(Ge,je,Ee,!1,null,"649516ce",null),Le=Ie.exports,Re=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.hasMemory,expression:"hasMemory"}],attrs:{label:"内存大小"}},[e.isMemoryOf("Phone")?t("el-radio-group",{key:"Phone",on:{change:e.handleChange},model:{value:e.memory,callback:function(r){e.memory=r},expression:"memory"}},[t("el-radio",{attrs:{label:"4G"}},[e._v("4G")]),t("el-radio",{attrs:{label:"6G"}},[e._v("6G")]),t("el-radio",{attrs:{label:"8G"}},[e._v("8G")]),t("el-radio",{attrs:{label:"12G"}},[e._v("12G")])],1):e.isMemoryOf("Computer")?t("el-radio-group",{key:"Computer",on:{change:e.handleChange},model:{value:e.memory,callback:function(r){e.memory=r},expression:"memory"}},[t("el-radio",{attrs:{label:"4G"}},[e._v("4G")]),t("el-radio",{attrs:{label:"8G"}},[e._v("8G")]),t("el-radio",{attrs:{label:"16G"}},[e._v("16G")]),t("el-radio",{attrs:{label:"32G"}},[e._v("32G")])],1):e._e()],1)},Be=[],qe={name:"ProductMemory",props:["productType","ajaxMemo"],data:function(){return{memory:""}},computed:{hasMemory:function(){return!!this.productType&&("Phone"===this.productType||"Computer"===this.productType)},isMemoryOf:function(){return function(e){return e===this.productType}}},methods:{handleChange:function(){this.$emit("transferMemory",this.memory)}},watch:{ajaxMemo:function(e){this.memory=e}}},We=qe,ze=Object(f["a"])(We,Re,Be,!1,null,"12f5cc04",null),He=ze.exports,Ue=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form-item",{attrs:{label:"附加配件"}},[t("el-select",{attrs:{disabled:e.hasAccessories(),multiple:"",clearable:""},on:{change:e.handleChange},model:{value:e.accessories,callback:function(r){e.accessories=r},expression:"accessories"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)},Ke=[],Je={name:"ProductAccessories",data:function(){return{accessories:[],options:[{value:"Pen",label:"手写笔"},{value:"Charger",label:"充电器"},{value:"Mouse",label:"鼠标"},{value:"KeyBoard",label:"键盘"},{value:"Other",label:"其他"}]}},props:["needAccessories","ajaxAcc"],methods:{handleChange:function(){this.$emit("transferAccessories",this.accessories)}},computed:{hasAccessories:function(){return function(){return!this.needAccessories}}},watch:{ajaxAcc:function(e){this.accessories=e}}},Ve=Je,Qe=Object(f["a"])(Ve,Ue,Ke,!1,null,"ccfa8c96",null),Xe=Qe.exports,Ye={postOrder:function(e,r){return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.post(e,r).then((function(e){"success"===e.data.status&&(a["Message"].success("新建订单成功！"),window.location.reload())})).catch((function(e){console.error(e),a["Message"].error("新建订单失败！")}));case 2:case"end":return t.stop()}}),t)})))()},deleteOrder:function(e,r){return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.delete(e,{data:r}).then((function(e){"success"===e.data.status&&a["Message"].success("删除订单成功！")})).catch((function(e){console.error(e),a["Message"].error("删除订单失败")}));case 2:case"end":return t.stop()}}),t)})))()}},Ze=Ye,er={name:"OrderForm",components:{ProductAccessories:Xe,ProductMemory:He,ProductStorage:Le,ProductType:Se},data:function(){return{loading:!1,orderForm:{productName:"",productType:[],withAccessories:!1,money:{purchasePrice:0,soldPrice:0,postPrice:0},productDescription:{color:"",outlook:""},purchaser:"",contact:"",platform:"",note:""},orderRules:{productName:[{required:!0,message:"请输入产品名",trigger:"blur"}],purchaser:[{required:!0,message:"请输入购买人姓名",trigger:"blur"}],productType:[{required:!0,message:"请选择产品类型",trigger:"blur"}],contact:[{required:!0,message:"请输入购买人联系方式",trigger:"blur"}],platform:[{required:!0,message:"请输入出售方式",trigger:"blur"}]},colors:[{value:"black",label:"黑色"},{value:"silver",label:"银色"},{value:"gold",label:"金色"},{value:"blue",label:"蓝色"},{value:"red",label:"红色"},{value:"green",label:"绿色"},{value:"purple",label:"紫色"},{value:"yellow",label:"黄色"}]}},methods:{handleNew:function(){var e=this;this.$refs["orderForm"].validate((function(r){if(!r)return console.warn("有东西没好好填"),!1;var t={userId:e.$store.state.user.user.uid,order:e.orderForm};Ze.postOrder("/api/addOrder",t)}))},getProductType:function(e){this.orderForm.productType=e},getStorage:function(e){this.orderForm.productDescription.storage=e},getMemory:function(e){this.orderForm.productDescription.memory=e},getAccessories:function(e){this.orderForm.accessories=e}}},rr=er,tr=Object(f["a"])(rr,Te,$e,!1,null,"68004202",null),or=tr.exports,ar=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList,border:"","row-class-name":e.tableRowClassName}},[e._e(),t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[t("el-form-item",{attrs:{label:"产品颜色"}},[t("span",{domProps:{textContent:e._s(e.translateColor(r.row.productDescription.color))}})]),t("el-form-item",{attrs:{label:"产品外观"}},[t("span",{domProps:{textContent:e._s(r.row.productDescription.outlook)}})]),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.hasMemory(r.row),expression:"hasMemory(props.row)"}],attrs:{label:"产品内存"}},[t("span",{domProps:{textContent:e._s(r.row.productDescription.memory)}})]),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.hasStorage(r.row),expression:"hasStorage(props.row)"}],attrs:{label:"产品容量"}},[t("span",{domProps:{textContent:e._s(r.row.productDescription.storage)}})]),t("el-form-item",{attrs:{label:"配件"}},[t("span",{domProps:{textContent:e._s(e.translateAcc(r.row.accessories))}})]),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.hasNote(r.row),expression:"hasNote(props.row)"}],attrs:{label:"备注"}},[t("span",{domProps:{textContent:e._s(r.row.note)}})])],1)]}}])}),t("el-table-column",{attrs:{prop:"dateTime",label:"日期",width:"160",sortable:""}}),t("el-table-column",{attrs:{prop:"productName",label:"产品名",width:"150"}}),t("el-table-column",{attrs:{prop:"productType",label:"产品类型",formatter:e.translateType}}),t("el-table-column",{attrs:{prop:"purchasePrice",label:"进价",sortable:""}}),t("el-table-column",{attrs:{prop:"soldPrice",label:"售价",sortable:""}}),t("el-table-column",{attrs:{prop:"postPrice",label:"邮费",sortable:""}}),t("el-table-column",{attrs:{prop:"profit",label:"盈利",sortable:""}}),t("el-table-column",{attrs:{prop:"purchaser",label:"购买人"}}),t("el-table-column",{attrs:{prop:"contact",label:"联系方式",width:"150"}}),t("el-table-column",{attrs:{prop:"platform",label:"平台"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleEdit(r.row)}}},[e._v("修改")]),t("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleDelete(r.row)}}},[e._v("删除 ")])]}}])})],1),t("el-pagination",{attrs:{background:"",layout:"prev, pager, next,jumper","page-size":50,total:e.total,"current-page":e.currentPage},on:{"update:currentPage":function(r){e.currentPage=r},"update:current-page":function(r){e.currentPage=r},"current-change":e.changePage}})],1)},nr=[],sr=(t("a15b"),t("4ec9"),t("d3b7"),t("3ca3"),t("ddb0"),{name:"OrderTable",data:function(){return{orderList:[],currentPage:1,total:0}},methods:{translateColor:function(e){var r=new Map;return r.set("red","红色"),r.set("blue","蓝色"),r.set("green","绿色"),r.set("black","黑色"),r.set("silver","银色"),r.set("gold","金色"),r.set("yellow","黄色"),r.set("white","白色"),r.set("purple","紫色"),r.get(e)},translateAcc:function(e){if(!e)return"无";var r={Charger:"充电器",Mouse:"鼠标",KeyBoard:"键盘",Pen:"手写笔",Earphone:"耳机",Other:"其他"};return e.map((function(e){return e=r[e],e})).join("，")},translateType:function(e){var r={Phone:"手机",Pad:"平板电脑",Computer:"电脑",Accessories:"配件",EarPhones:"耳机",Other:"其他",Laptop:"笔记本",Desktop:"台式机",Apple:"苹果",Android:"安卓",Windows:"Windows系统",Noiseless:"降噪",Noise:"普通",Wired:"有线",Wireless:"无线"};return 1===e.productType.length?r[e.productType[0]]:2===e.productType.length?r[e.productType[1]]+r[e.productType[0]]:r[e.productType[1]]+r[e.productType[2]]+r[e.productType[0]]},hasNote:function(e){return!!e.note},hasMemory:function(e){return"Phone"===e.productType||"Computer"===e.productType},hasStorage:function(e){return"Phone"===e.productType||"Computer"===e.productType||"Pad"===e.productType},tableRowClassName:function(e){var r=e.row;return r.profit<100?"loss-row":r.profit>200?"earn-row":""},handleEdit:function(e){var r=this;this.$confirm("确认修改？","提示",{confirmButtonText:"确认修改",cancelButtonText:"取消",type:"warning"}).then((function(){r.$router.push({path:"/dashboard/editOrder",query:{orderId:e.orderId}})})).catch((function(e){console.error(e)}))},handleDelete:function(e){this.$confirm("确定删除?","提示",{confirmButtonText:"确认删除",cancelButtonText:"取消",type:"warning"}).then((function(){Ze.deleteOrder("/api/delOrder",{orderId:e.orderId}),window.location.reload()})).catch((function(e){console.error(e)}))},changePage:function(e){var r=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.currentPage=e,t.next=3,r.axios.post("/api/getOrder",{page:e}).then((function(e){r.orderList=e.data.orderList,console.log("表格信息加载完毕！")})).catch((function(e){r.$message.error("获取订单信息失败！"),console.error(e)}));case 3:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.axios.post("/api/getOrder",{page:1}).then((function(r){e.orderList=r.data.orderList,e.total=r.data.total,console.log("表格信息加载完毕！")})).catch((function(r){e.$message.error("获取订单信息失败！"),console.error(r)}));case 2:case"end":return r.stop()}}),r)})))()}}),lr=sr,ir=(t("9251"),Object(f["a"])(lr,ar,nr,!1,null,null,null)),cr=ir.exports,ur=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"orderForm",attrs:{model:e.orderForm,"label-width":"120px","label-position":"right",rules:e.orderRules}},[t("el-form-item",{attrs:{label:"商品名",prop:"productName"}},[t("el-input",{model:{value:e.orderForm.productName,callback:function(r){e.$set(e.orderForm,"productName",r)},expression:"orderForm.productName"}})],1),t("ProductType",{attrs:{ajaxType:e.orderForm.productType},on:{transferProductType:e.getProductType}}),t("el-form-item",{attrs:{label:"附赠配件"}},[t("el-switch",{model:{value:e.orderForm.withAccessories,callback:function(r){e.$set(e.orderForm,"withAccessories",r)},expression:"orderForm.withAccessories"}})],1),t("ProductAccessories",{attrs:{ajaxAcc:e.orderForm.accessories,needAccessories:e.orderForm.withAccessories},on:{transferAccessories:e.getAccessories}}),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"进价"}},[t("el-input-number",{attrs:{precision:2,step:.01,"controls-position":"right",min:0},model:{value:e.orderForm.money.purchasePrice,callback:function(r){e.$set(e.orderForm.money,"purchasePrice",r)},expression:"orderForm.money.purchasePrice"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"售格"}},[t("el-input-number",{attrs:{precision:2,step:.01,"controls-position":"right",min:0},model:{value:e.orderForm.money.soldPrice,callback:function(r){e.$set(e.orderForm.money,"soldPrice",r)},expression:"orderForm.money.soldPrice"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"邮费"}},[t("el-input-number",{attrs:{precision:2,step:.01,"controls-position":"right",min:0},model:{value:e.orderForm.money.postPrice,callback:function(r){e.$set(e.orderForm.money,"postPrice",r)},expression:"orderForm.money.postPrice"}})],1)],1)],1),t("el-form-item",{staticClass:"productDescription",attrs:{label:"产品描述","label-width":"130px"}}),t("el-row",[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"颜色",prop:"color"}},[t("el-select",{attrs:{clearable:""},model:{value:e.orderForm.productDescription.color,callback:function(r){e.$set(e.orderForm.productDescription,"color",r)},expression:"orderForm.productDescription.color"}},e._l(e.colors,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"成色",prop:"outlook"}},[t("el-input",{model:{value:e.orderForm.productDescription.outlook,callback:function(r){e.$set(e.orderForm.productDescription,"outlook",r)},expression:"orderForm.productDescription.outlook"}})],1)],1)],1),t("ProductMemory",{attrs:{productType:e.orderForm.productType[0],ajaxMemo:e.orderForm.productDescription.memory},on:{transferMemory:e.getMemory}}),t("ProductStorage",{attrs:{productType:e.orderForm.productType[0],ajaxStorage:e.orderForm.productDescription.storage},on:{transferStorage:e.getStorage}}),t("el-form-item",{attrs:{label:"购买人姓名",prop:"purchaser"}},[t("el-input",{model:{value:e.orderForm.purchaser,callback:function(r){e.$set(e.orderForm,"purchaser",r)},expression:"orderForm.purchaser"}})],1),t("el-form-item",{attrs:{label:"购买人联系方式",prop:"contact","label-width":"130px"}},[t("el-input",{model:{value:e.orderForm.contact,callback:function(r){e.$set(e.orderForm,"contact",r)},expression:"orderForm.contact"}})],1),t("el-form-item",{attrs:{label:"出售方式",prop:"platform"}},[t("el-input",{model:{value:e.orderForm.platform,callback:function(r){e.$set(e.orderForm,"platform",r)},expression:"orderForm.platform"}})],1),t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.orderForm.note,callback:function(r){e.$set(e.orderForm,"note",r)},expression:"orderForm.note"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"warning"},on:{click:e.handleEdit}},[e._v("修改订单")])],1)],1)},dr=[],pr={name:"EditForm",components:{ProductType:Se,ProductAccessories:Xe,ProductMemory:He,ProductStorage:Le},data:function(){return{loading:!1,orderForm:{productName:"",productType:[],withAccessories:!1,money:{purchasePrice:0,soldPrice:0,postPrice:0},productDescription:{color:"",outlook:""},purchaser:"",contact:"",platform:"",note:""},orderRules:{productName:[{required:!0,message:"请输入产品名",trigger:"blur"}],purchaser:[{required:!0,message:"请输入购买人姓名",trigger:"blur"}],productType:[{required:!0,message:"请选择产品类型",trigger:"blur"}],contact:[{required:!0,message:"请输入购买人联系方式",trigger:"blur"}],platform:[{required:!0,message:"请输入出售方式",trigger:"blur"}]},colors:[{value:"black",label:"黑色"},{value:"silver",label:"银色"},{value:"gold",label:"金色"},{value:"blue",label:"蓝色"},{value:"red",label:"红色"},{value:"green",label:"绿色"},{value:"purple",label:"紫色"},{value:"yellow",label:"黄色"}]}},methods:{handleEdit:function(){var e=this;this.$confirm("真的要修改么？","提示",{confirmButtonText:"真的要修改！",cancelButtonText:"算了吧..",type:"warning"}).then((function(){var r={userId:e.$store.state.user.user.uid,orderId:e.$route.query.orderId,order:e.orderForm};e.axios.put("/api/editOrderInfo",r).then((function(r){"success"===r.data.status?(e.$message.success("修改订单信息成功！"),e.$router.push("/dashboard/orderList")):e.$message.error("修改订单信息失败！")})).catch((function(r){console.error(r),e.$message.error("系统错误！"),e.$router.push("/dashboard/orderList")}))})).catch((function(){e.$message.info("已取消"),e.$router.push("/dashboard/orderList")}))},getProductType:function(e){this.orderForm.productType=e},getStorage:function(e){this.orderForm.productDescription.storage=e},getMemory:function(e){this.orderForm.productDescription.memory=e},getAccessories:function(e){this.orderForm.accessories=e}},mounted:function(){var e=this,r=this.$route.query.orderId;this.axios.post("/api/getOrderInfo",{orderId:r}).then((function(r){e.orderForm=r.data.order,e.orderForm.withAccessories=Boolean(r.data.order.withAccessories)})).catch((function(r){404===r.response.status&&(e.$message.error("订单不存在！"),e.$router.push("/dashboard/orderList")),console.error(r),e.$message.error("加载订单信息失败！"),e.$router.push("/dashboard/orderList")}))}},mr=pr,fr=Object(f["a"])(mr,ur,dr,!1,null,"10d1596b",null),hr=fr.exports;o["default"].use(s["a"]);var gr=[{path:"/",component:ae,name:"Index",redirect:"/login",children:[{path:"/login",component:$,name:"login",hidden:!0},{path:"/register",component:be,name:"Register",hidden:!0}]},{path:"/dashboard",component:X,name:"Home",redirect:"/dashboard/index",children:[{path:"/dashboard/profile",component:S,name:"profile"},{path:"/dashboard/index",component:de,name:"console"},{path:"/dashboard/newOrder",component:or,name:"newOrder"},{path:"/dashboard/orderList",component:cr,name:"orderList"},{path:"/dashboard/editOrder",component:hr,name:"editOrder"}]},{path:"/404",component:_e,name:"404 Not Found",hidden:!0},{path:"*",hidden:!0,redirect:{path:"/404"}}],br=new s["a"]({routes:gr}),vr={login:function(e,r){var t=e.commit;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("/api/login",r).then((function(e){t("login",{uid:e.data.uid,rememberMe:r.rememberMe}),a["Message"].success("登录成功!"),br.push({path:"/dashboard"})})).catch((function(e){403===e.response.status?a["Message"].error("用户名或密码错误！"):(a["Message"].error("系统错误！"),console.error(e))}));case 2:case"end":return e.stop()}}),e)})))()},register:function(e,r){var t=e.commit;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t("doNothing"),e.next=3,c.a.post("/api/register",r).then((function(e){!0===e.data.verified?(a["Message"].success("注册成功！"),br.push("/")):a["Message"].error(e.data.reason)})).catch((function(e){a["Message"].error("系统错误"),console.error(e)}));case 3:case"end":return e.stop()}}),e)})))()},logout:function(e){var r=e.commit;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("/api/logout").then((function(){r("logout")})).catch((function(e){console.error(e),a["Message"].error("登出失败！")}));case 2:case"end":return e.stop()}}),e)})))()}},wr=vr,yr={user:{}},xr={state:yr,mutations:y,actions:wr},Fr=t("0e44");o["default"].use(l["a"]);var Pr={},kr=new l["a"].Store({modules:{user:xr},getters:Pr,plugins:[Object(Fr["a"])({paths:["user.user"],storage:window.sessionStorage})]});t("1578"),o["default"].config.productionTip=!1,o["default"].use(n.a),o["default"].use(s["a"]),o["default"].use(l["a"]),o["default"].prototype.axios=c.a,c.a.defaults.withCredentials=!0,br.beforeEach((function(e,r,t){"/login"===e.path&&sessionStorage.removeItem("user");var o=v.a.get("user");o||(o=sessionStorage.getItem("user")),o||"/login"===e.path||"/register"===e.path?t():t({path:"/login"})})),new o["default"]({render:function(e){return e(g)},router:br,store:kr}).$mount("#app")},5917:function(e,r,t){"use strict";var o=t("7396"),a=t.n(o);a.a},"5e01":function(e,r,t){},7396:function(e,r,t){},"7a86":function(e,r,t){"use strict";var o=t("e7cf"),a=t.n(o);a.a},"822b":function(e,r,t){"use strict";var o=t("3952"),a=t.n(o);a.a},8855:function(e,r,t){"use strict";var o=t("280c"),a=t.n(o);a.a},9251:function(e,r,t){"use strict";var o=t("e7ae"),a=t.n(o);a.a},"9af2":function(e,r,t){"use strict";var o=t("fead"),a=t.n(o);a.a},e123:function(e,r,t){},e7ae:function(e,r,t){},e7cf:function(e,r,t){},f4e8:function(e,r,t){"use strict";var o=t("5e01"),a=t.n(o);a.a},f71c:function(e,r,t){"use strict";var o=t("4ea8"),a=t.n(o);a.a},fead:function(e,r,t){}});
//# sourceMappingURL=app.c5d70a1e.js.map